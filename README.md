# FDump - File Dump

Networked distributed file backup system.

### Main

- One or more management services
- Any number of agents in the operating systems
- Any number of storage systems
- Any agent can store data on any specified storage
 
### Принцип

- Один иболее управляющих сервисов
- Произвольное количество агентов (одна операционная система - один агент)
- Любое число систем сервисов хранения в любой локации.
- Любой агент может хранить данные на любом указанном хранилище

The project is suspended until its time. The implementation 
is relatively simple, the principle has already been 
tested by me in the SQL database dump backup system.

Проект приостановлен до своего времени. Реализация относительно проста, 
принцип-архитектура уже были успешно реализованны мной в системе 
резервирования дампов SQL баз данных.

### Некоторые соображения

Я колебался между выбором tar форматов хранения и "своим собственным".
И выбор склонился к собственному формату, хотя за этим следует написание утилит.
Основанием стало простое хранение контрольных сумм файлов в потоке.

* Tar не предусматривает хранение контрольных сумм, что приводит к необходимости хранить внешние 
описатели файлов и ряду манипуляций с ними.
* В "своем" формате мы можем записать в поток контрольную сумму и еще ряд данных 
(например, реальный размер и статус после чтения изменяющегося файла) после данных самого файла. 
Иначе мы будем вынуждены делать буферизацию сохраняемых данных, что для гигабайтных файлов
 несколько обременительно и иногда невозможно, и генерально ведет к удвоенному циклу чтение-запись.

Набросок библиотеки упаковки-распаковки в works/pack

В works/cron интерпретатор для vixie cron time decription, запуска заданий по времени.
Этот формат известен и легко понимаем системными администраторами.

Основание для RPC+BLOB уже используемой мной ранее фреймворк https://pkg.go.dev/github.com/kindsoldier/dsrpc 
Воможна его модификация для использования шифрованных сокетов.

Система должна быть проста, стройна и не содержать странных вещей.


## Generic draft

![](/docs/draft01.svg "Generic Draft")

